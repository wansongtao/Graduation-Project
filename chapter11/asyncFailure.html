<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>失败处理</title>
</head>
<body>
    <script>
        function double(value, success, failure) {
            setTimeout(() => {
                try {
                    if (typeof value !== 'number') {
                        throw 'Must provide number as first argument';
                    }

                    success(2 * value);
                } catch(e) {
                    failure(e);
                }
            }, 1000);
        }

        const successCallback = (x) => console.log(`Success: ${x}`);
        const failureCallback = (e) => console.log(`Failure: ${e}`);

        double(2, successCallback, failureCallback);//Success: 4

        double('b', successCallback, failureCallback);
        //Failure: Must provide number as first argument
    </script>
</body>
</html>